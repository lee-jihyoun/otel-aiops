{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"paymentservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.24.1"}},{"key":"container.id","value":{"stringValue":"d606a76c1a13669be761135d64f0a1acc9a58322bbd3d212397b1265e3864db5"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"d606a76c1a13"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./opentelemetry.js"},{"stringValue":"/usr/src/app/index.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"21.7.3"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/usr/src/app/index.js"}},{"key":"process.owner","value":{"stringValue":"node"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-dns","version":"0.36.1"},"spans":[{"traceId":"6dd74f56e0a8ba81f06988fa09078033","spanId":"735d88adf35aa44b","parentSpanId":"0b1bb110cdda9c93","name":"dns.lookup","kind":3,"startTimeUnixNano":"1724248805740000000","endTimeUnixNano":"1724248805758694649","attributes":[{"key":"dns.error_message","value":{"stringValue":"getaddrinfo ENOTFOUND metadata.google.internal."}},{"key":"dns.error_name","value":{"stringValue":"Error"}}],"status":{"message":"getaddrinfo ENOTFOUND metadata.google.internal.","code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-net","version":"0.36.0"},"spans":[{"traceId":"85d05b348821b1b149a1f688dcc3a83a","spanId":"0c3479328f4ec8bf","parentSpanId":"cabf6d03d525d3d5","name":"tcp.connect","kind":1,"startTimeUnixNano":"1724248805733000000","endTimeUnixNano":"1724248805754733708","attributes":[{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.peer.name","value":{"stringValue":"169.254.169.254"}},{"key":"net.peer.port","value":{"intValue":"80"}}],"status":{"message":"connect ECONNREFUSED 169.254.169.254:80","code":2}},{"traceId":"6dd74f56e0a8ba81f06988fa09078033","spanId":"800a9af2a5cd4059","parentSpanId":"0b1bb110cdda9c93","name":"tcp.connect","kind":1,"startTimeUnixNano":"1724248805738000000","endTimeUnixNano":"1724248805759620953","attributes":[{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.peer.name","value":{"stringValue":"metadata.google.internal."}},{"key":"net.peer.port","value":{"intValue":"80"}}],"status":{"message":"getaddrinfo ENOTFOUND metadata.google.internal.","code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.51.1"},"spans":[{"traceId":"85d05b348821b1b149a1f688dcc3a83a","spanId":"cabf6d03d525d3d5","parentSpanId":"","name":"GET","kind":3,"startTimeUnixNano":"1724248805728000000","endTimeUnixNano":"1724248805755675554","attributes":[{"key":"http.url","value":{"stringValue":"http://169.254.169.254/computeMetadata/v1/instance"}},{"key":"http.method","value":{"stringValue":"GET"}},{"key":"http.target","value":{"stringValue":"/computeMetadata/v1/instance"}},{"key":"net.peer.name","value":{"stringValue":"169.254.169.254"}},{"key":"http.host","value":{"stringValue":"169.254.169.254:80"}},{"key":"http.error_name","value":{"stringValue":"Error"}},{"key":"http.error_message","value":{"stringValue":"connect ECONNREFUSED 169.254.169.254:80"}}],"events":[{"timeUnixNano":"1724248805755619572","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"ECONNREFUSED"}},{"key":"exception.message","value":{"stringValue":"connect ECONNREFUSED 169.254.169.254:80"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: connect ECONNREFUSED 169.254.169.254:80\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1605:16)\n    at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)"}}]}],"status":{"message":"connect ECONNREFUSED 169.254.169.254:80","code":2}},{"traceId":"6dd74f56e0a8ba81f06988fa09078033","spanId":"0b1bb110cdda9c93","parentSpanId":"","name":"GET","kind":3,"startTimeUnixNano":"1724248805736000000","endTimeUnixNano":"1724248805760024837","attributes":[{"key":"http.url","value":{"stringValue":"http://metadata.google.internal./computeMetadata/v1/instance"}},{"key":"http.method","value":{"stringValue":"GET"}},{"key":"http.target","value":{"stringValue":"/computeMetadata/v1/instance"}},{"key":"net.peer.name","value":{"stringValue":"metadata.google.internal."}},{"key":"http.host","value":{"stringValue":"metadata.google.internal.:80"}},{"key":"http.error_name","value":{"stringValue":"Error"}},{"key":"http.error_message","value":{"stringValue":"getaddrinfo ENOTFOUND metadata.google.internal."}}],"events":[{"timeUnixNano":"1724248805760000717","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"ENOTFOUND"}},{"key":"exception.message","value":{"stringValue":"getaddrinfo ENOTFOUND metadata.google.internal."}},{"key":"exception.stacktrace","value":{"stringValue":"Error: getaddrinfo ENOTFOUND metadata.google.internal.\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:118:26)\n    at GetAddrInfoReqWrap.callbackTrampoline (node:internal/async_hooks:130:17)"}}]}],"status":{"message":"getaddrinfo ENOTFOUND metadata.google.internal.","code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"frontend"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.25.1"}},{"key":"container.id","value":{"stringValue":"f27bf1b161b28b909d52572607c84c667f42895393b06247598ceea61021aef4"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"f27bf1b161b2"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./Instrumentation.js"},{"stringValue":"/app/server.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"20.16.0"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/app/server.js"}},{"key":"process.owner","value":{"stringValue":"nextjs"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.52.1"},"spans":[{"traceId":"3631dec12f3b8acd2a9ac267cd011391","spanId":"29698e5e7fb6f79c","parentSpanId":"","name":"GET","kind":3,"startTimeUnixNano":"1724248819618000000","endTimeUnixNano":"1724248819809890584","attributes":[{"key":"http.url","value":{"stringValue":"http://metadata.google.internal./computeMetadata/v1/instance"}},{"key":"http.method","value":{"stringValue":"GET"}},{"key":"http.target","value":{"stringValue":"/computeMetadata/v1/instance"}},{"key":"net.peer.name","value":{"stringValue":"metadata.google.internal."}},{"key":"http.host","value":{"stringValue":"metadata.google.internal.:80"}},{"key":"http.error_name","value":{"stringValue":"Error"}},{"key":"http.error_message","value":{"stringValue":"getaddrinfo ENOTFOUND metadata.google.internal."}}],"events":[{"timeUnixNano":"1724248819809732438","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"ENOTFOUND"}},{"key":"exception.message","value":{"stringValue":"getaddrinfo ENOTFOUND metadata.google.internal."}},{"key":"exception.stacktrace","value":{"stringValue":"Error: getaddrinfo ENOTFOUND metadata.google.internal.\n    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:120:26)\n    at GetAddrInfoReqWrap.callbackTrampoline (node:internal/async_hooks:130:17)"}}]}],"status":{"message":"getaddrinfo ENOTFOUND metadata.google.internal.","code":2}},{"traceId":"366c93078fcfcaad9ef2924e98b27513","spanId":"5ae34495ef2183bb","parentSpanId":"","name":"GET","kind":3,"startTimeUnixNano":"1724248819613000000","endTimeUnixNano":"1724248819819113450","attributes":[{"key":"http.url","value":{"stringValue":"http://169.254.169.254/computeMetadata/v1/instance"}},{"key":"http.method","value":{"stringValue":"GET"}},{"key":"http.target","value":{"stringValue":"/computeMetadata/v1/instance"}},{"key":"net.peer.name","value":{"stringValue":"169.254.169.254"}},{"key":"http.host","value":{"stringValue":"169.254.169.254:80"}},{"key":"http.error_name","value":{"stringValue":"Error"}},{"key":"http.error_message","value":{"stringValue":"connect ECONNREFUSED 169.254.169.254:80"}}],"events":[{"timeUnixNano":"1724248819819097649","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"ECONNREFUSED"}},{"key":"exception.message","value":{"stringValue":"connect ECONNREFUSED 169.254.169.254:80"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: connect ECONNREFUSED 169.254.169.254:80\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1607:16)\n    at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)"}}]}],"status":{"message":"connect ECONNREFUSED 169.254.169.254:80","code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"container.id","value":{"stringValue":"5393e17ea7208c80c0e4f3eda98e7fb8f2db5c2f40acda753916b651bc2edf44"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"5393e17ea720"}},{"key":"os.description","value":{"stringValue":"Alpine Linux 3.20.2 (Linux 5393e17ea720 5.15.153.1-microsoft-standard-WSL2 #1 SMP Fri Mar 29 23:14:13 UTC 2024 x86_64)"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"./checkoutservice"}]}}},{"key":"process.executable.name","value":{"stringValue":"checkoutservice"}},{"key":"process.executable.path","value":{"stringValue":"/usr/src/app/checkoutservice"}},{"key":"process.owner","value":{"stringValue":"root"}},{"key":"process.pid","value":{"intValue":"1"}},{"key":"process.runtime.description","value":{"stringValue":"go version go1.22.6 linux/amd64"}},{"key":"process.runtime.name","value":{"stringValue":"go"}},{"key":"process.runtime.version","value":{"stringValue":"go1.22.6"}},{"key":"service.name","value":{"stringValue":"checkoutservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"go"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.27.0"}}]},"scopeSpans":[{"scope":{"name":"go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc","version":"0.52.0"},"spans":[{"traceId":"7097e6b36b89fb6be8fcbbaafffe1302","spanId":"63227652df31b934","parentSpanId":"11549d72d2032a27","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248826269963965","endTimeUnixNano":"1724248826325330644","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"7097e6b36b89fb6be8fcbbaafffe1302","spanId":"11549d72d2032a27","parentSpanId":"5e3d8f0e54ca4696","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248826140223573","endTimeUnixNano":"1724248826325477978","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"b753aade-5fc5-11ef-b8c2-0242ac120018"}},{"key":"app.user.currency","value":{"stringValue":"USD"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248826249843851","name":"prepared"},{"timeUnixNano":"1724248826252477411","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248826325384556","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}}]}],"schemaUrl":"https://opentelemetry.io/schemas/1.25.0"}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"frontend"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.25.1"}},{"key":"container.id","value":{"stringValue":"f27bf1b161b28b909d52572607c84c667f42895393b06247598ceea61021aef4"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"f27bf1b161b2"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./Instrumentation.js"},{"stringValue":"/app/server.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"20.16.0"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/app/server.js"}},{"key":"process.owner","value":{"stringValue":"nextjs"}}]},"scopeSpans":[{"scope":{"name":"next.js","version":"0.0.1"},"spans":[{"traceId":"7097e6b36b89fb6be8fcbbaafffe1302","spanId":"98c7119541a153fb","parentSpanId":"4cc3e464383b2168","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248826136000000","endTimeUnixNano":"1724248826331326656","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248826327376628","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.52.1"},"spans":[{"traceId":"7097e6b36b89fb6be8fcbbaafffe1302","spanId":"be50c0fcc088f2ea","parentSpanId":"7419b366c5f939a6","name":"POST","kind":2,"startTimeUnixNano":"1724248826134000000","endTimeUnixNano":"1724248826332370330","attributes":[{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.host","value":{"stringValue":"frontend-proxy:8080"}},{"key":"net.host.name","value":{"stringValue":"frontend-proxy"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout"}},{"key":"http.user_agent","value":{"stringValue":"python-requests/2.31.0"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"388"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"55410"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.52.1"},"spans":[{"traceId":"7097e6b36b89fb6be8fcbbaafffe1302","spanId":"5e3d8f0e54ca4696","parentSpanId":"98c7119541a153fb","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248826136000000","endTimeUnixNano":"1724248826326790491","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"telemetry.sdk.language","value":{"stringValue":"python"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.23.0"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"service.name","value":{"stringValue":"loadgenerator"}}]},"scopeSpans":[{"scope":{"name":"opentelemetry.instrumentation.requests","version":"0.44b0"},"spans":[{"traceId":"7097e6b36b89fb6be8fcbbaafffe1302","spanId":"ed013ccaa25fdb34","parentSpanId":"","name":"POST","kind":3,"startTimeUnixNano":"1724248826133288978","endTimeUnixNano":"1724248826333220866","attributes":[{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.status_code","value":{"intValue":"500"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"paymentservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.24.1"}},{"key":"container.id","value":{"stringValue":"d606a76c1a13669be761135d64f0a1acc9a58322bbd3d212397b1265e3864db5"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"d606a76c1a13"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./opentelemetry.js"},{"stringValue":"/usr/src/app/index.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"21.7.3"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/usr/src/app/index.js"}},{"key":"process.owner","value":{"stringValue":"node"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.51.1"},"spans":[{"traceId":"7097e6b36b89fb6be8fcbbaafffe1302","spanId":"e88b55d75ac1a487","parentSpanId":"63227652df31b934","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248826283000000","endTimeUnixNano":"1724248826323109498","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":1244.249999998}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248826322887171","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"container.id","value":{"stringValue":"5393e17ea7208c80c0e4f3eda98e7fb8f2db5c2f40acda753916b651bc2edf44"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"5393e17ea720"}},{"key":"os.description","value":{"stringValue":"Alpine Linux 3.20.2 (Linux 5393e17ea720 5.15.153.1-microsoft-standard-WSL2 #1 SMP Fri Mar 29 23:14:13 UTC 2024 x86_64)"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"./checkoutservice"}]}}},{"key":"process.executable.name","value":{"stringValue":"checkoutservice"}},{"key":"process.executable.path","value":{"stringValue":"/usr/src/app/checkoutservice"}},{"key":"process.owner","value":{"stringValue":"root"}},{"key":"process.pid","value":{"intValue":"1"}},{"key":"process.runtime.description","value":{"stringValue":"go version go1.22.6 linux/amd64"}},{"key":"process.runtime.name","value":{"stringValue":"go"}},{"key":"process.runtime.version","value":{"stringValue":"go1.22.6"}},{"key":"service.name","value":{"stringValue":"checkoutservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"go"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.27.0"}}]},"scopeSpans":[{"scope":{"name":"go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc","version":"0.52.0"},"spans":[{"traceId":"a22a542570a9c2f235d20b75e53f74fd","spanId":"33b6d99ab794b5f6","parentSpanId":"5617423b336421c8","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248837013116319","endTimeUnixNano":"1724248837017336034","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"a22a542570a9c2f235d20b75e53f74fd","spanId":"5617423b336421c8","parentSpanId":"66bfd9d33ee8fa32","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248837002293108","endTimeUnixNano":"1724248837017401886","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"bdd2eb90-5fc5-11ef-b8c2-0242ac120018"}},{"key":"app.user.currency","value":{"stringValue":"USD"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248837013073607","name":"prepared"},{"timeUnixNano":"1724248837013093098","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248837017371975","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}}]}],"schemaUrl":"https://opentelemetry.io/schemas/1.25.0"}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"frontend"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.25.1"}},{"key":"container.id","value":{"stringValue":"f27bf1b161b28b909d52572607c84c667f42895393b06247598ceea61021aef4"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"f27bf1b161b2"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./Instrumentation.js"},{"stringValue":"/app/server.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"20.16.0"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/app/server.js"}},{"key":"process.owner","value":{"stringValue":"nextjs"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.52.1"},"spans":[{"traceId":"a22a542570a9c2f235d20b75e53f74fd","spanId":"66bfd9d33ee8fa32","parentSpanId":"ce0aa1be4107bbf9","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248837001000000","endTimeUnixNano":"1724248837017568912","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}}]},{"scope":{"name":"next.js","version":"0.0.1"},"spans":[{"traceId":"a22a542570a9c2f235d20b75e53f74fd","spanId":"ce0aa1be4107bbf9","parentSpanId":"6299aa9673cbcbae","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248837001000000","endTimeUnixNano":"1724248837018399038","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248837017901947","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.52.1"},"spans":[{"traceId":"a22a542570a9c2f235d20b75e53f74fd","spanId":"efa21f19c620d091","parentSpanId":"03b7d34d10be65c0","name":"POST","kind":2,"startTimeUnixNano":"1724248837000000000","endTimeUnixNano":"1724248837018686843","attributes":[{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.host","value":{"stringValue":"frontend-proxy:8080"}},{"key":"net.host.name","value":{"stringValue":"frontend-proxy"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout"}},{"key":"http.user_agent","value":{"stringValue":"python-requests/2.31.0"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"388"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"55224"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"telemetry.sdk.language","value":{"stringValue":"python"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.23.0"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"service.name","value":{"stringValue":"loadgenerator"}}]},"scopeSpans":[{"scope":{"name":"opentelemetry.instrumentation.requests","version":"0.44b0"},"spans":[{"traceId":"a22a542570a9c2f235d20b75e53f74fd","spanId":"9bce4d69f801abed","parentSpanId":"","name":"POST","kind":3,"startTimeUnixNano":"1724248836999705027","endTimeUnixNano":"1724248837020661797","attributes":[{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.status_code","value":{"intValue":"500"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"paymentservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.24.1"}},{"key":"container.id","value":{"stringValue":"d606a76c1a13669be761135d64f0a1acc9a58322bbd3d212397b1265e3864db5"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"d606a76c1a13"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./opentelemetry.js"},{"stringValue":"/usr/src/app/index.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"21.7.3"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/usr/src/app/index.js"}},{"key":"process.owner","value":{"stringValue":"node"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.51.1"},"spans":[{"traceId":"a22a542570a9c2f235d20b75e53f74fd","spanId":"5a6f2999531ffd06","parentSpanId":"33b6d99ab794b5f6","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248837015000000","endTimeUnixNano":"1724248837016138968","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":229.449999999}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248837016122438","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"frontend"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.25.1"}},{"key":"container.id","value":{"stringValue":"f27bf1b161b28b909d52572607c84c667f42895393b06247598ceea61021aef4"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"f27bf1b161b2"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./Instrumentation.js"},{"stringValue":"/app/server.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"20.16.0"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/app/server.js"}},{"key":"process.owner","value":{"stringValue":"nextjs"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.52.1"},"spans":[{"traceId":"a7e8368ec098203afe1d41aa99f31f8b","spanId":"040ba4aa11030a3f","parentSpanId":"5bd0cd360ab8d23d","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248854282000000","endTimeUnixNano":"1724248854300355123","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}},{"traceId":"32c2a05759d32bf1174e73db7ac9f385","spanId":"186e329ac79ce6eb","parentSpanId":"ff466ff9aa5320b3","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248855162000000","endTimeUnixNano":"1724248855174885155","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}}]},{"scope":{"name":"next.js","version":"0.0.1"},"spans":[{"traceId":"a7e8368ec098203afe1d41aa99f31f8b","spanId":"5bd0cd360ab8d23d","parentSpanId":"8f455e714f9cfaac","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248854282000000","endTimeUnixNano":"1724248854301625212","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248854300820461","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}},{"traceId":"32c2a05759d32bf1174e73db7ac9f385","spanId":"ff466ff9aa5320b3","parentSpanId":"0f56d16a0cfb0637","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248855162000000","endTimeUnixNano":"1724248855175883149","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248855175175106","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.52.1"},"spans":[{"traceId":"a7e8368ec098203afe1d41aa99f31f8b","spanId":"2145d3c696dd3d2b","parentSpanId":"a771e0537a49b77c","name":"POST","kind":2,"startTimeUnixNano":"1724248854281000000","endTimeUnixNano":"1724248854301773796","attributes":[{"key":"http.url","value":{"stringValue":"http://localhost:8080/api/checkout?currencyCode=EUR"}},{"key":"http.host","value":{"stringValue":"localhost:8080"}},{"key":"net.host.name","value":{"stringValue":"localhost"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout?currencyCode=EUR"}},{"key":"http.user_agent","value":{"stringValue":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"374"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"36130"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}},{"traceId":"32c2a05759d32bf1174e73db7ac9f385","spanId":"a23deb2618369312","parentSpanId":"8e99197a7ca9f44b","name":"POST","kind":2,"startTimeUnixNano":"1724248855161000000","endTimeUnixNano":"1724248855176062645","attributes":[{"key":"http.url","value":{"stringValue":"http://localhost:8080/api/checkout?currencyCode=EUR"}},{"key":"http.host","value":{"stringValue":"localhost:8080"}},{"key":"net.host.name","value":{"stringValue":"localhost"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout?currencyCode=EUR"}},{"key":"http.user_agent","value":{"stringValue":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"374"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"36130"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"container.id","value":{"stringValue":"5393e17ea7208c80c0e4f3eda98e7fb8f2db5c2f40acda753916b651bc2edf44"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"5393e17ea720"}},{"key":"os.description","value":{"stringValue":"Alpine Linux 3.20.2 (Linux 5393e17ea720 5.15.153.1-microsoft-standard-WSL2 #1 SMP Fri Mar 29 23:14:13 UTC 2024 x86_64)"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"./checkoutservice"}]}}},{"key":"process.executable.name","value":{"stringValue":"checkoutservice"}},{"key":"process.executable.path","value":{"stringValue":"/usr/src/app/checkoutservice"}},{"key":"process.owner","value":{"stringValue":"root"}},{"key":"process.pid","value":{"intValue":"1"}},{"key":"process.runtime.description","value":{"stringValue":"go version go1.22.6 linux/amd64"}},{"key":"process.runtime.name","value":{"stringValue":"go"}},{"key":"process.runtime.version","value":{"stringValue":"go1.22.6"}},{"key":"service.name","value":{"stringValue":"checkoutservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"go"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.27.0"}}]},"scopeSpans":[{"scope":{"name":"go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc","version":"0.52.0"},"spans":[{"traceId":"a7e8368ec098203afe1d41aa99f31f8b","spanId":"6b2cf273a7bfcfef","parentSpanId":"271a2a897e326ecf","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248854295627749","endTimeUnixNano":"1724248854299510677","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"a7e8368ec098203afe1d41aa99f31f8b","spanId":"271a2a897e326ecf","parentSpanId":"040ba4aa11030a3f","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248854284086714","endTimeUnixNano":"1724248854299585740","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"60fadd23-72d0-4da6-9571-81813bcf60c4"}},{"key":"app.user.currency","value":{"stringValue":"EUR"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248854295533875","name":"prepared"},{"timeUnixNano":"1724248854295587687","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248854299566599","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"32c2a05759d32bf1174e73db7ac9f385","spanId":"a3cd43fe056fd0f7","parentSpanId":"5fa03220bb6af4a6","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248855172416884","endTimeUnixNano":"1724248855174824802","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"32c2a05759d32bf1174e73db7ac9f385","spanId":"5fa03220bb6af4a6","parentSpanId":"186e329ac79ce6eb","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248855163519301","endTimeUnixNano":"1724248855174891844","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"60fadd23-72d0-4da6-9571-81813bcf60c4"}},{"key":"app.user.currency","value":{"stringValue":"EUR"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248855172385063","name":"prepared"},{"timeUnixNano":"1724248855172401194","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248855174876284","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}}]}],"schemaUrl":"https://opentelemetry.io/schemas/1.25.0"}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"paymentservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.24.1"}},{"key":"container.id","value":{"stringValue":"d606a76c1a13669be761135d64f0a1acc9a58322bbd3d212397b1265e3864db5"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"d606a76c1a13"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./opentelemetry.js"},{"stringValue":"/usr/src/app/index.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"21.7.3"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/usr/src/app/index.js"}},{"key":"process.owner","value":{"stringValue":"node"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.51.1"},"spans":[{"traceId":"a7e8368ec098203afe1d41aa99f31f8b","spanId":"ecf693d67d8e9933","parentSpanId":"6b2cf273a7bfcfef","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248854297000000","endTimeUnixNano":"1724248854298031900","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":133.3095974}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248854298013989","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}},{"traceId":"32c2a05759d32bf1174e73db7ac9f385","spanId":"b7d7a0499e6bb05d","parentSpanId":"a3cd43fe056fd0f7","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248855173000000","endTimeUnixNano":"1724248855173783505","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":134.949137549}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248855173730343","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"frontend"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.25.1"}},{"key":"container.id","value":{"stringValue":"f27bf1b161b28b909d52572607c84c667f42895393b06247598ceea61021aef4"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"f27bf1b161b2"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./Instrumentation.js"},{"stringValue":"/app/server.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"20.16.0"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/app/server.js"}},{"key":"process.owner","value":{"stringValue":"nextjs"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.52.1"},"spans":[{"traceId":"33c303dea4768e363e8647e7e3b20f7e","spanId":"4c14a5faed48a8bb","parentSpanId":"8672151ebe5a02dd","name":"POST","kind":2,"startTimeUnixNano":"1724248860193000000","endTimeUnixNano":"1724248860207642370","attributes":[{"key":"http.url","value":{"stringValue":"http://localhost:8080/api/checkout?currencyCode=EUR"}},{"key":"http.host","value":{"stringValue":"localhost:8080"}},{"key":"net.host.name","value":{"stringValue":"localhost"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout?currencyCode=EUR"}},{"key":"http.user_agent","value":{"stringValue":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"374"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"57028"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.52.1"},"spans":[{"traceId":"33c303dea4768e363e8647e7e3b20f7e","spanId":"e9a9f56ea0ef16d9","parentSpanId":"7b213d4725fcdc01","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248860195000000","endTimeUnixNano":"1724248860207738846","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}}]},{"scope":{"name":"next.js","version":"0.0.1"},"spans":[{"traceId":"33c303dea4768e363e8647e7e3b20f7e","spanId":"7b213d4725fcdc01","parentSpanId":"868eca4f5e06306b","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248860194000000","endTimeUnixNano":"1724248860207719294","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248860207109560","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"container.id","value":{"stringValue":"5393e17ea7208c80c0e4f3eda98e7fb8f2db5c2f40acda753916b651bc2edf44"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"5393e17ea720"}},{"key":"os.description","value":{"stringValue":"Alpine Linux 3.20.2 (Linux 5393e17ea720 5.15.153.1-microsoft-standard-WSL2 #1 SMP Fri Mar 29 23:14:13 UTC 2024 x86_64)"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"./checkoutservice"}]}}},{"key":"process.executable.name","value":{"stringValue":"checkoutservice"}},{"key":"process.executable.path","value":{"stringValue":"/usr/src/app/checkoutservice"}},{"key":"process.owner","value":{"stringValue":"root"}},{"key":"process.pid","value":{"intValue":"1"}},{"key":"process.runtime.description","value":{"stringValue":"go version go1.22.6 linux/amd64"}},{"key":"process.runtime.name","value":{"stringValue":"go"}},{"key":"process.runtime.version","value":{"stringValue":"go1.22.6"}},{"key":"service.name","value":{"stringValue":"checkoutservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"go"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.27.0"}}]},"scopeSpans":[{"scope":{"name":"go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc","version":"0.52.0"},"spans":[{"traceId":"33c303dea4768e363e8647e7e3b20f7e","spanId":"e8701bf167adb47a","parentSpanId":"f5a2ddc4f7269c0b","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248860204595083","endTimeUnixNano":"1724248860206835210","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"33c303dea4768e363e8647e7e3b20f7e","spanId":"f5a2ddc4f7269c0b","parentSpanId":"e9a9f56ea0ef16d9","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248860195725892","endTimeUnixNano":"1724248860206921594","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"60fadd23-72d0-4da6-9571-81813bcf60c4"}},{"key":"app.user.currency","value":{"stringValue":"EUR"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248860204574162","name":"prepared"},{"timeUnixNano":"1724248860204586742","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248860206902183","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"5fd73513b1659d8c55245cf2666b98f0","spanId":"abb71014b714b6ee","parentSpanId":"b3c60b9cee9e5b3d","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248861165900760","endTimeUnixNano":"1724248861168200858","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"5fd73513b1659d8c55245cf2666b98f0","spanId":"b3c60b9cee9e5b3d","parentSpanId":"20395c1e72cdf1c7","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248861156197898","endTimeUnixNano":"1724248861168242859","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"60fadd23-72d0-4da6-9571-81813bcf60c4"}},{"key":"app.user.currency","value":{"stringValue":"EUR"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248861165880920","name":"prepared"},{"timeUnixNano":"1724248861165892930","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248861168230399","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}}]}],"schemaUrl":"https://opentelemetry.io/schemas/1.25.0"}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"paymentservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.24.1"}},{"key":"container.id","value":{"stringValue":"d606a76c1a13669be761135d64f0a1acc9a58322bbd3d212397b1265e3864db5"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"d606a76c1a13"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./opentelemetry.js"},{"stringValue":"/usr/src/app/index.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"21.7.3"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/usr/src/app/index.js"}},{"key":"process.owner","value":{"stringValue":"node"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.51.1"},"spans":[{"traceId":"33c303dea4768e363e8647e7e3b20f7e","spanId":"8397487fb1fb5f6a","parentSpanId":"e8701bf167adb47a","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248860205000000","endTimeUnixNano":"1724248860205650055","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":166.85802741}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248860205636704","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}},{"traceId":"5fd73513b1659d8c55245cf2666b98f0","spanId":"584ce7fd16668d5d","parentSpanId":"abb71014b714b6ee","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248861166000000","endTimeUnixNano":"1724248861166889964","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":127.784166297}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248861166875604","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"frontend"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.25.1"}},{"key":"container.id","value":{"stringValue":"f27bf1b161b28b909d52572607c84c667f42895393b06247598ceea61021aef4"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"f27bf1b161b2"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./Instrumentation.js"},{"stringValue":"/app/server.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"20.16.0"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/app/server.js"}},{"key":"process.owner","value":{"stringValue":"nextjs"}}]},"scopeSpans":[{"scope":{"name":"next.js","version":"0.0.1"},"spans":[{"traceId":"5fd73513b1659d8c55245cf2666b98f0","spanId":"9e2ac8d3b12c69c2","parentSpanId":"39b13209ce741329","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248861154000000","endTimeUnixNano":"1724248861175313891","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248861174909066","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.52.1"},"spans":[{"traceId":"5fd73513b1659d8c55245cf2666b98f0","spanId":"5e0e0cd6636221d7","parentSpanId":"d34cc21931076175","name":"POST","kind":2,"startTimeUnixNano":"1724248861153000000","endTimeUnixNano":"1724248861175297540","attributes":[{"key":"http.url","value":{"stringValue":"http://localhost:8080/api/checkout?currencyCode=EUR"}},{"key":"http.host","value":{"stringValue":"localhost:8080"}},{"key":"net.host.name","value":{"stringValue":"localhost"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout?currencyCode=EUR"}},{"key":"http.user_agent","value":{"stringValue":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"374"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"57028"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.52.1"},"spans":[{"traceId":"5fd73513b1659d8c55245cf2666b98f0","spanId":"20395c1e72cdf1c7","parentSpanId":"9e2ac8d3b12c69c2","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248861155000000","endTimeUnixNano":"1724248861175572833","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"telemetry.sdk.language","value":{"stringValue":"python"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.23.0"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"service.name","value":{"stringValue":"loadgenerator"}}]},"scopeSpans":[{"scope":{"name":"opentelemetry.instrumentation.requests","version":"0.44b0"},"spans":[{"traceId":"dbe35dfb31d3d91c6b34bdd1118dce70","spanId":"3e542506293e554d","parentSpanId":"","name":"POST","kind":3,"startTimeUnixNano":"1724248865378432843","endTimeUnixNano":"1724248865398836074","attributes":[{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.status_code","value":{"intValue":"500"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"container.id","value":{"stringValue":"5393e17ea7208c80c0e4f3eda98e7fb8f2db5c2f40acda753916b651bc2edf44"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"5393e17ea720"}},{"key":"os.description","value":{"stringValue":"Alpine Linux 3.20.2 (Linux 5393e17ea720 5.15.153.1-microsoft-standard-WSL2 #1 SMP Fri Mar 29 23:14:13 UTC 2024 x86_64)"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"./checkoutservice"}]}}},{"key":"process.executable.name","value":{"stringValue":"checkoutservice"}},{"key":"process.executable.path","value":{"stringValue":"/usr/src/app/checkoutservice"}},{"key":"process.owner","value":{"stringValue":"root"}},{"key":"process.pid","value":{"intValue":"1"}},{"key":"process.runtime.description","value":{"stringValue":"go version go1.22.6 linux/amd64"}},{"key":"process.runtime.name","value":{"stringValue":"go"}},{"key":"process.runtime.version","value":{"stringValue":"go1.22.6"}},{"key":"service.name","value":{"stringValue":"checkoutservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"go"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.27.0"}}]},"scopeSpans":[{"scope":{"name":"go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc","version":"0.52.0"},"spans":[{"traceId":"dbe35dfb31d3d91c6b34bdd1118dce70","spanId":"41492b41e28f5ec8","parentSpanId":"1e0a4956cb54c171","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248865393978366","endTimeUnixNano":"1724248865396139660","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"dbe35dfb31d3d91c6b34bdd1118dce70","spanId":"1e0a4956cb54c171","parentSpanId":"4a6e55a7a3639444","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248865381906568","endTimeUnixNano":"1724248865396185412","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"ceb1a85c-5fc5-11ef-b8c2-0242ac120018"}},{"key":"app.user.currency","value":{"stringValue":"USD"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248865393946545","name":"prepared"},{"timeUnixNano":"1724248865393958065","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248865396160521","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}}]}],"schemaUrl":"https://opentelemetry.io/schemas/1.25.0"}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"frontend"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.25.1"}},{"key":"container.id","value":{"stringValue":"f27bf1b161b28b909d52572607c84c667f42895393b06247598ceea61021aef4"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"f27bf1b161b2"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./Instrumentation.js"},{"stringValue":"/app/server.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"20.16.0"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/app/server.js"}},{"key":"process.owner","value":{"stringValue":"nextjs"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.52.1"},"spans":[{"traceId":"dbe35dfb31d3d91c6b34bdd1118dce70","spanId":"4a6e55a7a3639444","parentSpanId":"52d68253cb7561f6","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248865380000000","endTimeUnixNano":"1724248865396023446","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}}]},{"scope":{"name":"next.js","version":"0.0.1"},"spans":[{"traceId":"dbe35dfb31d3d91c6b34bdd1118dce70","spanId":"52d68253cb7561f6","parentSpanId":"19f8833662ae58fa","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248865380000000","endTimeUnixNano":"1724248865397345583","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248865396460633","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.52.1"},"spans":[{"traceId":"dbe35dfb31d3d91c6b34bdd1118dce70","spanId":"84f4e693060de379","parentSpanId":"4d03ef84bd22217a","name":"POST","kind":2,"startTimeUnixNano":"1724248865379000000","endTimeUnixNano":"1724248865397238777","attributes":[{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.host","value":{"stringValue":"frontend-proxy:8080"}},{"key":"net.host.name","value":{"stringValue":"frontend-proxy"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout"}},{"key":"http.user_agent","value":{"stringValue":"python-requests/2.31.0"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"388"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"50276"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"paymentservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.24.1"}},{"key":"container.id","value":{"stringValue":"d606a76c1a13669be761135d64f0a1acc9a58322bbd3d212397b1265e3864db5"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"d606a76c1a13"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./opentelemetry.js"},{"stringValue":"/usr/src/app/index.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"21.7.3"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/usr/src/app/index.js"}},{"key":"process.owner","value":{"stringValue":"node"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.51.1"},"spans":[{"traceId":"dbe35dfb31d3d91c6b34bdd1118dce70","spanId":"27ad0be9eaaa46f2","parentSpanId":"41492b41e28f5ec8","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248865394000000","endTimeUnixNano":"1724248865394852323","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":7089.6}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248865394751699","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"frontend"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.25.1"}},{"key":"container.id","value":{"stringValue":"f27bf1b161b28b909d52572607c84c667f42895393b06247598ceea61021aef4"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"f27bf1b161b2"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./Instrumentation.js"},{"stringValue":"/app/server.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"20.16.0"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/app/server.js"}},{"key":"process.owner","value":{"stringValue":"nextjs"}}]},"scopeSpans":[{"scope":{"name":"next.js","version":"0.0.1"},"spans":[{"traceId":"cd9e1bc3a5afd3f2467d15cb234f7962","spanId":"0bee4d76cc2a6c17","parentSpanId":"7ce062f6cc0878ac","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248878956000000","endTimeUnixNano":"1724248878989437540","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248878988804387","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.52.1"},"spans":[{"traceId":"cd9e1bc3a5afd3f2467d15cb234f7962","spanId":"e1637148e6e9e14f","parentSpanId":"6f3a8dbcff562e24","name":"POST","kind":2,"startTimeUnixNano":"1724248878954000000","endTimeUnixNano":"1724248878989111172","attributes":[{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.host","value":{"stringValue":"frontend-proxy:8080"}},{"key":"net.host.name","value":{"stringValue":"frontend-proxy"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout"}},{"key":"http.user_agent","value":{"stringValue":"python-requests/2.31.0"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"395"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"60854"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.52.1"},"spans":[{"traceId":"cd9e1bc3a5afd3f2467d15cb234f7962","spanId":"e2c8164a23bbc41a","parentSpanId":"0bee4d76cc2a6c17","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248878956000000","endTimeUnixNano":"1724248878988273857","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"telemetry.sdk.language","value":{"stringValue":"python"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.23.0"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"service.name","value":{"stringValue":"loadgenerator"}}]},"scopeSpans":[{"scope":{"name":"opentelemetry.instrumentation.requests","version":"0.44b0"},"spans":[{"traceId":"cd9e1bc3a5afd3f2467d15cb234f7962","spanId":"7572428aa2154109","parentSpanId":"","name":"POST","kind":3,"startTimeUnixNano":"1724248878946603304","endTimeUnixNano":"1724248878992017984","attributes":[{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.status_code","value":{"intValue":"500"}}],"status":{"code":2}},{"traceId":"e0f923b43b27df721e9320886fdd3776","spanId":"bff8c6a9d44d0971","parentSpanId":"","name":"POST","kind":3,"startTimeUnixNano":"1724248880298376643","endTimeUnixNano":"1724248880313772791","attributes":[{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.status_code","value":{"intValue":"500"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"container.id","value":{"stringValue":"5393e17ea7208c80c0e4f3eda98e7fb8f2db5c2f40acda753916b651bc2edf44"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"5393e17ea720"}},{"key":"os.description","value":{"stringValue":"Alpine Linux 3.20.2 (Linux 5393e17ea720 5.15.153.1-microsoft-standard-WSL2 #1 SMP Fri Mar 29 23:14:13 UTC 2024 x86_64)"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"./checkoutservice"}]}}},{"key":"process.executable.name","value":{"stringValue":"checkoutservice"}},{"key":"process.executable.path","value":{"stringValue":"/usr/src/app/checkoutservice"}},{"key":"process.owner","value":{"stringValue":"root"}},{"key":"process.pid","value":{"intValue":"1"}},{"key":"process.runtime.description","value":{"stringValue":"go version go1.22.6 linux/amd64"}},{"key":"process.runtime.name","value":{"stringValue":"go"}},{"key":"process.runtime.version","value":{"stringValue":"go1.22.6"}},{"key":"service.name","value":{"stringValue":"checkoutservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"go"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.27.0"}}]},"scopeSpans":[{"scope":{"name":"go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc","version":"0.52.0"},"spans":[{"traceId":"cd9e1bc3a5afd3f2467d15cb234f7962","spanId":"8ec012b1354a12e2","parentSpanId":"05c0c747e2f13090","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248878984601148","endTimeUnixNano":"1724248878988171565","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"cd9e1bc3a5afd3f2467d15cb234f7962","spanId":"05c0c747e2f13090","parentSpanId":"e2c8164a23bbc41a","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248878958010722","endTimeUnixNano":"1724248878988267968","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"d6ca06ce-5fc5-11ef-b8c2-0242ac120018"}},{"key":"app.user.currency","value":{"stringValue":"USD"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248878984563587","name":"prepared"},{"timeUnixNano":"1724248878984582878","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248878988226187","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"e0f923b43b27df721e9320886fdd3776","spanId":"cded22060c82db65","parentSpanId":"380bb7d1826f4acc","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248880308578392","endTimeUnixNano":"1724248880311589964","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"e0f923b43b27df721e9320886fdd3776","spanId":"380bb7d1826f4acc","parentSpanId":"0aa19e561c99c548","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248880300623466","endTimeUnixNano":"1724248880311635286","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"d7a46c56-5fc5-11ef-b8c2-0242ac120018"}},{"key":"app.user.currency","value":{"stringValue":"USD"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248880308559261","name":"prepared"},{"timeUnixNano":"1724248880308571562","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248880311621606","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}}]}],"schemaUrl":"https://opentelemetry.io/schemas/1.25.0"}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"paymentservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.24.1"}},{"key":"container.id","value":{"stringValue":"d606a76c1a13669be761135d64f0a1acc9a58322bbd3d212397b1265e3864db5"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"d606a76c1a13"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./opentelemetry.js"},{"stringValue":"/usr/src/app/index.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"21.7.3"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/usr/src/app/index.js"}},{"key":"process.owner","value":{"stringValue":"node"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.51.1"},"spans":[{"traceId":"cd9e1bc3a5afd3f2467d15cb234f7962","spanId":"8f4b0d5a753e6ad6","parentSpanId":"8ec012b1354a12e2","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248878986000000","endTimeUnixNano":"1724248878987146633","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":1413.299999995}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248878987118772","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}},{"traceId":"e0f923b43b27df721e9320886fdd3776","spanId":"986c85d29f72440e","parentSpanId":"cded22060c82db65","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248880310000000","endTimeUnixNano":"1724248880311005222","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":3648.2}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248880310992231","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"frontend"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.25.1"}},{"key":"container.id","value":{"stringValue":"f27bf1b161b28b909d52572607c84c667f42895393b06247598ceea61021aef4"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"f27bf1b161b2"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./Instrumentation.js"},{"stringValue":"/app/server.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"20.16.0"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/app/server.js"}},{"key":"process.owner","value":{"stringValue":"nextjs"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.52.1"},"spans":[{"traceId":"e0f923b43b27df721e9320886fdd3776","spanId":"0aa19e561c99c548","parentSpanId":"93cff380b21f504c","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248880299000000","endTimeUnixNano":"1724248880311399171","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}}]},{"scope":{"name":"next.js","version":"0.0.1"},"spans":[{"traceId":"e0f923b43b27df721e9320886fdd3776","spanId":"93cff380b21f504c","parentSpanId":"5445f6e107e2b1bc","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248880299000000","endTimeUnixNano":"1724248880312149599","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248880311677631","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.52.1"},"spans":[{"traceId":"e0f923b43b27df721e9320886fdd3776","spanId":"a91fe7f28d8d932d","parentSpanId":"a4d443b1f2e6083c","name":"POST","kind":2,"startTimeUnixNano":"1724248880299000000","endTimeUnixNano":"1724248880312804384","attributes":[{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.host","value":{"stringValue":"frontend-proxy:8080"}},{"key":"net.host.name","value":{"stringValue":"frontend-proxy"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout"}},{"key":"http.user_agent","value":{"stringValue":"python-requests/2.31.0"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"380"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"42410"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"container.id","value":{"stringValue":"5393e17ea7208c80c0e4f3eda98e7fb8f2db5c2f40acda753916b651bc2edf44"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"5393e17ea720"}},{"key":"os.description","value":{"stringValue":"Alpine Linux 3.20.2 (Linux 5393e17ea720 5.15.153.1-microsoft-standard-WSL2 #1 SMP Fri Mar 29 23:14:13 UTC 2024 x86_64)"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"./checkoutservice"}]}}},{"key":"process.executable.name","value":{"stringValue":"checkoutservice"}},{"key":"process.executable.path","value":{"stringValue":"/usr/src/app/checkoutservice"}},{"key":"process.owner","value":{"stringValue":"root"}},{"key":"process.pid","value":{"intValue":"1"}},{"key":"process.runtime.description","value":{"stringValue":"go version go1.22.6 linux/amd64"}},{"key":"process.runtime.name","value":{"stringValue":"go"}},{"key":"process.runtime.version","value":{"stringValue":"go1.22.6"}},{"key":"service.name","value":{"stringValue":"checkoutservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"go"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.27.0"}}]},"scopeSpans":[{"scope":{"name":"go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc","version":"0.52.0"},"spans":[{"traceId":"b64c5f18fea8e3224097fba63da9d263","spanId":"64508d9c5c9774b1","parentSpanId":"93b694e8faab7ad8","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248886880904881","endTimeUnixNano":"1724248886883813822","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"b64c5f18fea8e3224097fba63da9d263","spanId":"93b694e8faab7ad8","parentSpanId":"fd38e7910c8ec7c8","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248886868209437","endTimeUnixNano":"1724248886883918076","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"db895750-5fc5-11ef-b8c2-0242ac120018"}},{"key":"app.user.currency","value":{"stringValue":"USD"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248886880875210","name":"prepared"},{"timeUnixNano":"1724248886880888911","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248886883889485","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}}]}],"schemaUrl":"https://opentelemetry.io/schemas/1.25.0"}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"frontend"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.25.1"}},{"key":"container.id","value":{"stringValue":"f27bf1b161b28b909d52572607c84c667f42895393b06247598ceea61021aef4"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"f27bf1b161b2"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./Instrumentation.js"},{"stringValue":"/app/server.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"20.16.0"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/app/server.js"}},{"key":"process.owner","value":{"stringValue":"nextjs"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.52.1"},"spans":[{"traceId":"b64c5f18fea8e3224097fba63da9d263","spanId":"6492182f783b1b05","parentSpanId":"aadd4ccbe6f37a46","name":"POST","kind":2,"startTimeUnixNano":"1724248886866000000","endTimeUnixNano":"1724248886886407223","attributes":[{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.host","value":{"stringValue":"frontend-proxy:8080"}},{"key":"net.host.name","value":{"stringValue":"frontend-proxy"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout"}},{"key":"http.user_agent","value":{"stringValue":"python-requests/2.31.0"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"388"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"60894"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}}]},{"scope":{"name":"next.js","version":"0.0.1"},"spans":[{"traceId":"b64c5f18fea8e3224097fba63da9d263","spanId":"2062f63915ee5e8b","parentSpanId":"4ce16aa0702cd089","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248886867000000","endTimeUnixNano":"1724248886886652144","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248886885997559","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.52.1"},"spans":[{"traceId":"b64c5f18fea8e3224097fba63da9d263","spanId":"fd38e7910c8ec7c8","parentSpanId":"2062f63915ee5e8b","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248886867000000","endTimeUnixNano":"1724248886885666656","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"telemetry.sdk.language","value":{"stringValue":"python"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.23.0"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"service.name","value":{"stringValue":"loadgenerator"}}]},"scopeSpans":[{"scope":{"name":"opentelemetry.instrumentation.requests","version":"0.44b0"},"spans":[{"traceId":"b64c5f18fea8e3224097fba63da9d263","spanId":"8b26a30a004e44af","parentSpanId":"","name":"POST","kind":3,"startTimeUnixNano":"1724248886865534295","endTimeUnixNano":"1724248886887971991","attributes":[{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.status_code","value":{"intValue":"500"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"paymentservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.24.1"}},{"key":"container.id","value":{"stringValue":"d606a76c1a13669be761135d64f0a1acc9a58322bbd3d212397b1265e3864db5"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"d606a76c1a13"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./opentelemetry.js"},{"stringValue":"/usr/src/app/index.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"21.7.3"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/usr/src/app/index.js"}},{"key":"process.owner","value":{"stringValue":"node"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.51.1"},"spans":[{"traceId":"b64c5f18fea8e3224097fba63da9d263","spanId":"2931b51115b2615f","parentSpanId":"64508d9c5c9774b1","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248886882000000","endTimeUnixNano":"1724248886883111862","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":2006.56999999}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248886883071281","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"frontend"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.25.1"}},{"key":"container.id","value":{"stringValue":"f27bf1b161b28b909d52572607c84c667f42895393b06247598ceea61021aef4"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"f27bf1b161b2"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./Instrumentation.js"},{"stringValue":"/app/server.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"20.16.0"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/app/server.js"}},{"key":"process.owner","value":{"stringValue":"nextjs"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.52.1"},"spans":[{"traceId":"fe4022391d1d6869d51005f600e7381e","spanId":"92aa77dd40afa115","parentSpanId":"24d0c3ca58e953c5","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248909738000000","endTimeUnixNano":"1724248909758910108","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}}]},{"scope":{"name":"next.js","version":"0.0.1"},"spans":[{"traceId":"fe4022391d1d6869d51005f600e7381e","spanId":"24d0c3ca58e953c5","parentSpanId":"5f3ddcec9ecfbd52","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248909738000000","endTimeUnixNano":"1724248909761135577","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248909759733258","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.52.1"},"spans":[{"traceId":"fe4022391d1d6869d51005f600e7381e","spanId":"419a5f0a68b3f77e","parentSpanId":"66420184af9f1560","name":"POST","kind":2,"startTimeUnixNano":"1724248909736000000","endTimeUnixNano":"1724248909760793407","attributes":[{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.host","value":{"stringValue":"frontend-proxy:8080"}},{"key":"net.host.name","value":{"stringValue":"frontend-proxy"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout"}},{"key":"http.user_agent","value":{"stringValue":"python-requests/2.31.0"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"385"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"38546"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"telemetry.sdk.language","value":{"stringValue":"python"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.23.0"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"service.name","value":{"stringValue":"loadgenerator"}}]},"scopeSpans":[{"scope":{"name":"opentelemetry.instrumentation.requests","version":"0.44b0"},"spans":[{"traceId":"fe4022391d1d6869d51005f600e7381e","spanId":"1a7727705b9e6a7d","parentSpanId":"","name":"POST","kind":3,"startTimeUnixNano":"1724248909734538037","endTimeUnixNano":"1724248909762567147","attributes":[{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.status_code","value":{"intValue":"500"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"container.id","value":{"stringValue":"5393e17ea7208c80c0e4f3eda98e7fb8f2db5c2f40acda753916b651bc2edf44"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"5393e17ea720"}},{"key":"os.description","value":{"stringValue":"Alpine Linux 3.20.2 (Linux 5393e17ea720 5.15.153.1-microsoft-standard-WSL2 #1 SMP Fri Mar 29 23:14:13 UTC 2024 x86_64)"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"./checkoutservice"}]}}},{"key":"process.executable.name","value":{"stringValue":"checkoutservice"}},{"key":"process.executable.path","value":{"stringValue":"/usr/src/app/checkoutservice"}},{"key":"process.owner","value":{"stringValue":"root"}},{"key":"process.pid","value":{"intValue":"1"}},{"key":"process.runtime.description","value":{"stringValue":"go version go1.22.6 linux/amd64"}},{"key":"process.runtime.name","value":{"stringValue":"go"}},{"key":"process.runtime.version","value":{"stringValue":"go1.22.6"}},{"key":"service.name","value":{"stringValue":"checkoutservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"go"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.27.0"}}]},"scopeSpans":[{"scope":{"name":"go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc","version":"0.52.0"},"spans":[{"traceId":"fe4022391d1d6869d51005f600e7381e","spanId":"1224f17958974c0f","parentSpanId":"e74e5c8c652edd44","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248909756338824","endTimeUnixNano":"1724248909758652233","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"fe4022391d1d6869d51005f600e7381e","spanId":"e74e5c8c652edd44","parentSpanId":"92aa77dd40afa115","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248909740104391","endTimeUnixNano":"1724248909758776677","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"e92ea004-5fc5-11ef-b8c2-0242ac120018"}},{"key":"app.user.currency","value":{"stringValue":"USD"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248909756301332","name":"prepared"},{"timeUnixNano":"1724248909756318483","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248909758750626","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}}]}],"schemaUrl":"https://opentelemetry.io/schemas/1.25.0"}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"paymentservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.24.1"}},{"key":"container.id","value":{"stringValue":"d606a76c1a13669be761135d64f0a1acc9a58322bbd3d212397b1265e3864db5"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"d606a76c1a13"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./opentelemetry.js"},{"stringValue":"/usr/src/app/index.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"21.7.3"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/usr/src/app/index.js"}},{"key":"process.owner","value":{"stringValue":"node"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.51.1"},"spans":[{"traceId":"fe4022391d1d6869d51005f600e7381e","spanId":"781b78a1ff0ecb7e","parentSpanId":"1224f17958974c0f","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248909757000000","endTimeUnixNano":"1724248909757804241","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":492.2}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248909757790300","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"container.id","value":{"stringValue":"5393e17ea7208c80c0e4f3eda98e7fb8f2db5c2f40acda753916b651bc2edf44"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"5393e17ea720"}},{"key":"os.description","value":{"stringValue":"Alpine Linux 3.20.2 (Linux 5393e17ea720 5.15.153.1-microsoft-standard-WSL2 #1 SMP Fri Mar 29 23:14:13 UTC 2024 x86_64)"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"./checkoutservice"}]}}},{"key":"process.executable.name","value":{"stringValue":"checkoutservice"}},{"key":"process.executable.path","value":{"stringValue":"/usr/src/app/checkoutservice"}},{"key":"process.owner","value":{"stringValue":"root"}},{"key":"process.pid","value":{"intValue":"1"}},{"key":"process.runtime.description","value":{"stringValue":"go version go1.22.6 linux/amd64"}},{"key":"process.runtime.name","value":{"stringValue":"go"}},{"key":"process.runtime.version","value":{"stringValue":"go1.22.6"}},{"key":"service.name","value":{"stringValue":"checkoutservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"go"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.27.0"}}]},"scopeSpans":[{"scope":{"name":"go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc","version":"0.52.0"},"spans":[{"traceId":"fed11799d1a9c647129372cc7aa5f93f","spanId":"90f76f004b9ad8c8","parentSpanId":"3f8502d07ea7e2d5","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248921769337655","endTimeUnixNano":"1724248921771227789","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"fed11799d1a9c647129372cc7aa5f93f","spanId":"3f8502d07ea7e2d5","parentSpanId":"0b43fea03a207fc7","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248921759764125","endTimeUnixNano":"1724248921771285081","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"f05a2e0c-5fc5-11ef-b8c2-0242ac120018"}},{"key":"app.user.currency","value":{"stringValue":"USD"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248921769300894","name":"prepared"},{"timeUnixNano":"1724248921769317575","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248921771267671","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}}]}],"schemaUrl":"https://opentelemetry.io/schemas/1.25.0"}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"frontend"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.25.1"}},{"key":"container.id","value":{"stringValue":"f27bf1b161b28b909d52572607c84c667f42895393b06247598ceea61021aef4"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"f27bf1b161b2"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./Instrumentation.js"},{"stringValue":"/app/server.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"20.16.0"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/app/server.js"}},{"key":"process.owner","value":{"stringValue":"nextjs"}}]},"scopeSpans":[{"scope":{"name":"next.js","version":"0.0.1"},"spans":[{"traceId":"fed11799d1a9c647129372cc7aa5f93f","spanId":"89cfbba5d2b9efd1","parentSpanId":"e8a01b21b3d6102d","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248921758000000","endTimeUnixNano":"1724248921771913568","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248921771350876","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.52.1"},"spans":[{"traceId":"fed11799d1a9c647129372cc7aa5f93f","spanId":"35a7877d4dd00316","parentSpanId":"1322f37d29e3f8af","name":"POST","kind":2,"startTimeUnixNano":"1724248921758000000","endTimeUnixNano":"1724248921772675688","attributes":[{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.host","value":{"stringValue":"frontend-proxy:8080"}},{"key":"net.host.name","value":{"stringValue":"frontend-proxy"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout"}},{"key":"http.user_agent","value":{"stringValue":"python-requests/2.31.0"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"388"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"55756"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.52.1"},"spans":[{"traceId":"fed11799d1a9c647129372cc7aa5f93f","spanId":"0b43fea03a207fc7","parentSpanId":"89cfbba5d2b9efd1","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248921759000000","endTimeUnixNano":"1724248921772012433","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"telemetry.sdk.language","value":{"stringValue":"python"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.23.0"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"service.name","value":{"stringValue":"loadgenerator"}}]},"scopeSpans":[{"scope":{"name":"opentelemetry.instrumentation.requests","version":"0.44b0"},"spans":[{"traceId":"fed11799d1a9c647129372cc7aa5f93f","spanId":"014edd6a5d9ac367","parentSpanId":"","name":"POST","kind":3,"startTimeUnixNano":"1724248921757146935","endTimeUnixNano":"1724248921773975975","attributes":[{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.status_code","value":{"intValue":"500"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"paymentservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.24.1"}},{"key":"container.id","value":{"stringValue":"d606a76c1a13669be761135d64f0a1acc9a58322bbd3d212397b1265e3864db5"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"d606a76c1a13"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./opentelemetry.js"},{"stringValue":"/usr/src/app/index.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"21.7.3"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/usr/src/app/index.js"}},{"key":"process.owner","value":{"stringValue":"node"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.51.1"},"spans":[{"traceId":"fed11799d1a9c647129372cc7aa5f93f","spanId":"7b28dd81c8ed7de9","parentSpanId":"90f76f004b9ad8c8","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248921770000000","endTimeUnixNano":"1724248921770538390","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":1808.59999999}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248921770526910","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"telemetry.sdk.language","value":{"stringValue":"python"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.23.0"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"service.name","value":{"stringValue":"loadgenerator"}}]},"scopeSpans":[{"scope":{"name":"opentelemetry.instrumentation.requests","version":"0.44b0"},"spans":[{"traceId":"4c77b3a33e05ac6f0e1a6ef0f8759885","spanId":"bcbb8007b5cf3235","parentSpanId":"","name":"POST","kind":3,"startTimeUnixNano":"1724248955925627270","endTimeUnixNano":"1724248955947024003","attributes":[{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.status_code","value":{"intValue":"500"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"frontend"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.25.1"}},{"key":"container.id","value":{"stringValue":"f27bf1b161b28b909d52572607c84c667f42895393b06247598ceea61021aef4"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"f27bf1b161b2"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./Instrumentation.js"},{"stringValue":"/app/server.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"20.16.0"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/app/server.js"}},{"key":"process.owner","value":{"stringValue":"nextjs"}}]},"scopeSpans":[{"scope":{"name":"next.js","version":"0.0.1"},"spans":[{"traceId":"4c77b3a33e05ac6f0e1a6ef0f8759885","spanId":"37e9f76c740cc2d7","parentSpanId":"a9ec5079281fc70f","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248955927000000","endTimeUnixNano":"1724248955945396267","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248955943830114","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.52.1"},"spans":[{"traceId":"4c77b3a33e05ac6f0e1a6ef0f8759885","spanId":"9357a32e062b46a1","parentSpanId":"0f177f721dd99e97","name":"POST","kind":2,"startTimeUnixNano":"1724248955926000000","endTimeUnixNano":"1724248955945271692","attributes":[{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.host","value":{"stringValue":"frontend-proxy:8080"}},{"key":"net.host.name","value":{"stringValue":"frontend-proxy"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout"}},{"key":"http.user_agent","value":{"stringValue":"python-requests/2.31.0"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"395"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"59872"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.52.1"},"spans":[{"traceId":"4c77b3a33e05ac6f0e1a6ef0f8759885","spanId":"1844c4b78145d5da","parentSpanId":"37e9f76c740cc2d7","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248955927000000","endTimeUnixNano":"1724248955943337148","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"container.id","value":{"stringValue":"5393e17ea7208c80c0e4f3eda98e7fb8f2db5c2f40acda753916b651bc2edf44"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"5393e17ea720"}},{"key":"os.description","value":{"stringValue":"Alpine Linux 3.20.2 (Linux 5393e17ea720 5.15.153.1-microsoft-standard-WSL2 #1 SMP Fri Mar 29 23:14:13 UTC 2024 x86_64)"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"./checkoutservice"}]}}},{"key":"process.executable.name","value":{"stringValue":"checkoutservice"}},{"key":"process.executable.path","value":{"stringValue":"/usr/src/app/checkoutservice"}},{"key":"process.owner","value":{"stringValue":"root"}},{"key":"process.pid","value":{"intValue":"1"}},{"key":"process.runtime.description","value":{"stringValue":"go version go1.22.6 linux/amd64"}},{"key":"process.runtime.name","value":{"stringValue":"go"}},{"key":"process.runtime.version","value":{"stringValue":"go1.22.6"}},{"key":"service.name","value":{"stringValue":"checkoutservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"go"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.27.0"}}]},"scopeSpans":[{"scope":{"name":"go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc","version":"0.52.0"},"spans":[{"traceId":"4c77b3a33e05ac6f0e1a6ef0f8759885","spanId":"56980a54703fe264","parentSpanId":"f42170a074051904","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248955940942995","endTimeUnixNano":"1724248955942930616","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"4c77b3a33e05ac6f0e1a6ef0f8759885","spanId":"f42170a074051904","parentSpanId":"1844c4b78145d5da","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248955928597614","endTimeUnixNano":"1724248955942995750","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"04b1bcd0-5fc6-11ef-b8c2-0242ac120018"}},{"key":"app.user.currency","value":{"stringValue":"USD"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248955940906333","name":"prepared"},{"timeUnixNano":"1724248955940923884","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248955942981119","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}}]}],"schemaUrl":"https://opentelemetry.io/schemas/1.25.0"}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"paymentservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.24.1"}},{"key":"container.id","value":{"stringValue":"d606a76c1a13669be761135d64f0a1acc9a58322bbd3d212397b1265e3864db5"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"d606a76c1a13"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./opentelemetry.js"},{"stringValue":"/usr/src/app/index.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"21.7.3"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/usr/src/app/index.js"}},{"key":"process.owner","value":{"stringValue":"node"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.51.1"},"spans":[{"traceId":"4c77b3a33e05ac6f0e1a6ef0f8759885","spanId":"e4ac3e37fe1a2a6b","parentSpanId":"56980a54703fe264","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248955942000000","endTimeUnixNano":"1724248955942500395","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":1378.49999999}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248955942491165","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}},{"traceId":"769fb4abebfab66b8120243d87d171af","spanId":"5481060987bc35a1","parentSpanId":"227e01a9dd416b2e","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248959462000000","endTimeUnixNano":"1724248959462562910","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":144.679345421}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248959462553089","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}},{"traceId":"b29f0952bb9117b3ea9c43e25e48d22f","spanId":"237860b3d64bfd72","parentSpanId":"f5dcf146933025ac","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248960798000000","endTimeUnixNano":"1724248960798778257","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":155.824856257}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248960798761656","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"frontend"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.25.1"}},{"key":"container.id","value":{"stringValue":"f27bf1b161b28b909d52572607c84c667f42895393b06247598ceea61021aef4"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"f27bf1b161b2"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./Instrumentation.js"},{"stringValue":"/app/server.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"20.16.0"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/app/server.js"}},{"key":"process.owner","value":{"stringValue":"nextjs"}}]},"scopeSpans":[{"scope":{"name":"next.js","version":"0.0.1"},"spans":[{"traceId":"769fb4abebfab66b8120243d87d171af","spanId":"287214056be7e4a0","parentSpanId":"3960129813ae7485","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248959452000000","endTimeUnixNano":"1724248959463862353","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248959463381347","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}},{"traceId":"b29f0952bb9117b3ea9c43e25e48d22f","spanId":"77485b1576629399","parentSpanId":"30000399cdb3ac61","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248960787000000","endTimeUnixNano":"1724248960801039092","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248960800678403","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.52.1"},"spans":[{"traceId":"769fb4abebfab66b8120243d87d171af","spanId":"1d1410e9681bebad","parentSpanId":"6389ec220687a1b7","name":"POST","kind":2,"startTimeUnixNano":"1724248959451000000","endTimeUnixNano":"1724248959463836934","attributes":[{"key":"http.url","value":{"stringValue":"http://localhost:8080/api/checkout?currencyCode=EUR"}},{"key":"http.host","value":{"stringValue":"localhost:8080"}},{"key":"net.host.name","value":{"stringValue":"localhost"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout?currencyCode=EUR"}},{"key":"http.user_agent","value":{"stringValue":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"374"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"41432"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}},{"traceId":"b29f0952bb9117b3ea9c43e25e48d22f","spanId":"31aa57adcd472cb9","parentSpanId":"3623daf1e8e6d151","name":"POST","kind":2,"startTimeUnixNano":"1724248960786000000","endTimeUnixNano":"1724248960801096483","attributes":[{"key":"http.url","value":{"stringValue":"http://localhost:8080/api/checkout?currencyCode=EUR"}},{"key":"http.host","value":{"stringValue":"localhost:8080"}},{"key":"net.host.name","value":{"stringValue":"localhost"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout?currencyCode=EUR"}},{"key":"http.user_agent","value":{"stringValue":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"374"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"41432"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.52.1"},"spans":[{"traceId":"769fb4abebfab66b8120243d87d171af","spanId":"4f664e19b6d7cd24","parentSpanId":"287214056be7e4a0","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248959453000000","endTimeUnixNano":"1724248959463950854","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}},{"traceId":"b29f0952bb9117b3ea9c43e25e48d22f","spanId":"78a8a8f314227435","parentSpanId":"77485b1576629399","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248960787000000","endTimeUnixNano":"1724248960800330044","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"container.id","value":{"stringValue":"5393e17ea7208c80c0e4f3eda98e7fb8f2db5c2f40acda753916b651bc2edf44"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"5393e17ea720"}},{"key":"os.description","value":{"stringValue":"Alpine Linux 3.20.2 (Linux 5393e17ea720 5.15.153.1-microsoft-standard-WSL2 #1 SMP Fri Mar 29 23:14:13 UTC 2024 x86_64)"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"./checkoutservice"}]}}},{"key":"process.executable.name","value":{"stringValue":"checkoutservice"}},{"key":"process.executable.path","value":{"stringValue":"/usr/src/app/checkoutservice"}},{"key":"process.owner","value":{"stringValue":"root"}},{"key":"process.pid","value":{"intValue":"1"}},{"key":"process.runtime.description","value":{"stringValue":"go version go1.22.6 linux/amd64"}},{"key":"process.runtime.name","value":{"stringValue":"go"}},{"key":"process.runtime.version","value":{"stringValue":"go1.22.6"}},{"key":"service.name","value":{"stringValue":"checkoutservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"go"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.27.0"}}]},"scopeSpans":[{"scope":{"name":"go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc","version":"0.52.0"},"spans":[{"traceId":"769fb4abebfab66b8120243d87d171af","spanId":"227e01a9dd416b2e","parentSpanId":"dac20bbe544e4128","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248959461748754","endTimeUnixNano":"1724248959463412403","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"769fb4abebfab66b8120243d87d171af","spanId":"dac20bbe544e4128","parentSpanId":"4f664e19b6d7cd24","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248959453957493","endTimeUnixNano":"1724248959463494028","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"60fadd23-72d0-4da6-9571-81813bcf60c4"}},{"key":"app.user.currency","value":{"stringValue":"EUR"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248959461729153","name":"prepared"},{"timeUnixNano":"1724248959461740553","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248959463474147","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"b29f0952bb9117b3ea9c43e25e48d22f","spanId":"f5dcf146933025ac","parentSpanId":"2736074ba1473847","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248960797813524","endTimeUnixNano":"1724248960799915533","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"b29f0952bb9117b3ea9c43e25e48d22f","spanId":"2736074ba1473847","parentSpanId":"78a8a8f314227435","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248960788133941","endTimeUnixNano":"1724248960799964125","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"60fadd23-72d0-4da6-9571-81813bcf60c4"}},{"key":"app.user.currency","value":{"stringValue":"EUR"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248960797786122","name":"prepared"},{"timeUnixNano":"1724248960797798123","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248960799950185","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"be8b1ed1f03d8d8f63939b69659e9c8a","spanId":"6d4663d724071eec","parentSpanId":"50f24730edf4e091","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248961808826136","endTimeUnixNano":"1724248961813282194","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"be8b1ed1f03d8d8f63939b69659e9c8a","spanId":"50f24730edf4e091","parentSpanId":"be1aaf175b0bdac3","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248961796915552","endTimeUnixNano":"1724248961813389030","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"60fadd23-72d0-4da6-9571-81813bcf60c4"}},{"key":"app.user.currency","value":{"stringValue":"EUR"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248961808787744","name":"prepared"},{"timeUnixNano":"1724248961808802755","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248961813369149","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"69b8ee0f00d9e32f28d1fb633d38dfa7","spanId":"0abb48bfe97a23c1","parentSpanId":"b63b961b81d3b28b","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248962869396479","endTimeUnixNano":"1724248962871310050","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"69b8ee0f00d9e32f28d1fb633d38dfa7","spanId":"b63b961b81d3b28b","parentSpanId":"2dccc38a72f85261","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248962859682066","endTimeUnixNano":"1724248962871406955","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"60fadd23-72d0-4da6-9571-81813bcf60c4"}},{"key":"app.user.currency","value":{"stringValue":"EUR"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248962869352987","name":"prepared"},{"timeUnixNano":"1724248962869372698","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248962871358833","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}}]}],"schemaUrl":"https://opentelemetry.io/schemas/1.25.0"}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"frontend"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.25.1"}},{"key":"container.id","value":{"stringValue":"f27bf1b161b28b909d52572607c84c667f42895393b06247598ceea61021aef4"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"f27bf1b161b2"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./Instrumentation.js"},{"stringValue":"/app/server.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"20.16.0"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/app/server.js"}},{"key":"process.owner","value":{"stringValue":"nextjs"}}]},"scopeSpans":[{"scope":{"name":"next.js","version":"0.0.1"},"spans":[{"traceId":"be8b1ed1f03d8d8f63939b69659e9c8a","spanId":"b110b2e184e8a6d8","parentSpanId":"986bbe7959fd3c78","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248961795000000","endTimeUnixNano":"1724248961819325819","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248961816743217","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}},{"traceId":"69b8ee0f00d9e32f28d1fb633d38dfa7","spanId":"87091d2c6ff7513a","parentSpanId":"09d0380775e0deb1","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248962858000000","endTimeUnixNano":"1724248962872080419","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248962871626225","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.52.1"},"spans":[{"traceId":"be8b1ed1f03d8d8f63939b69659e9c8a","spanId":"59535c5bfdf19a4e","parentSpanId":"8c423037acd36f6e","name":"POST","kind":2,"startTimeUnixNano":"1724248961795000000","endTimeUnixNano":"1724248961820269459","attributes":[{"key":"http.url","value":{"stringValue":"http://localhost:8080/api/checkout?currencyCode=EUR"}},{"key":"http.host","value":{"stringValue":"localhost:8080"}},{"key":"net.host.name","value":{"stringValue":"localhost"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout?currencyCode=EUR"}},{"key":"http.user_agent","value":{"stringValue":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"374"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"41432"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}},{"traceId":"69b8ee0f00d9e32f28d1fb633d38dfa7","spanId":"59bf8a4b53e744c5","parentSpanId":"511d37cb294a94cf","name":"POST","kind":2,"startTimeUnixNano":"1724248962857000000","endTimeUnixNano":"1724248962872108433","attributes":[{"key":"http.url","value":{"stringValue":"http://localhost:8080/api/checkout?currencyCode=EUR"}},{"key":"http.host","value":{"stringValue":"localhost:8080"}},{"key":"net.host.name","value":{"stringValue":"localhost"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout?currencyCode=EUR"}},{"key":"http.user_agent","value":{"stringValue":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"374"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"41424"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.52.1"},"spans":[{"traceId":"be8b1ed1f03d8d8f63939b69659e9c8a","spanId":"be1aaf175b0bdac3","parentSpanId":"b110b2e184e8a6d8","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248961796000000","endTimeUnixNano":"1724248961817398989","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}},{"traceId":"69b8ee0f00d9e32f28d1fb633d38dfa7","spanId":"2dccc38a72f85261","parentSpanId":"87091d2c6ff7513a","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248962858000000","endTimeUnixNano":"1724248962871266546","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"paymentservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.24.1"}},{"key":"container.id","value":{"stringValue":"d606a76c1a13669be761135d64f0a1acc9a58322bbd3d212397b1265e3864db5"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"d606a76c1a13"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./opentelemetry.js"},{"stringValue":"/usr/src/app/index.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"21.7.3"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/usr/src/app/index.js"}},{"key":"process.owner","value":{"stringValue":"node"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.51.1"},"spans":[{"traceId":"be8b1ed1f03d8d8f63939b69659e9c8a","spanId":"19c6184dfdaf05bc","parentSpanId":"6d4663d724071eec","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248961811000000","endTimeUnixNano":"1724248961811822323","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":151.844316673}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248961811809852","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}},{"traceId":"69b8ee0f00d9e32f28d1fb633d38dfa7","spanId":"5020e0f9d433c543","parentSpanId":"0abb48bfe97a23c1","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248962870000000","endTimeUnixNano":"1724248962870574980","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":174.22379478}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248962870564840","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"frontend"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.25.1"}},{"key":"container.id","value":{"stringValue":"f27bf1b161b28b909d52572607c84c667f42895393b06247598ceea61021aef4"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"f27bf1b161b2"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./Instrumentation.js"},{"stringValue":"/app/server.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"20.16.0"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/app/server.js"}},{"key":"process.owner","value":{"stringValue":"nextjs"}}]},"scopeSpans":[{"scope":{"name":"next.js","version":"0.0.1"},"spans":[{"traceId":"1885aa223bcbeac1d205534f0bcf5f57","spanId":"f969e62c0fa4f715","parentSpanId":"93625a707c001df2","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248968389000000","endTimeUnixNano":"1724248968402696422","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248968402156589","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}},{"traceId":"b62a26464b21e90d349402c95b127fc1","spanId":"8c6d1f4fd0487288","parentSpanId":"33983e591878fa5a","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248970802000000","endTimeUnixNano":"1724248970821972841","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248970821477400","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.52.1"},"spans":[{"traceId":"1885aa223bcbeac1d205534f0bcf5f57","spanId":"bd24945a160b3486","parentSpanId":"63154b0cb2825e8a","name":"POST","kind":2,"startTimeUnixNano":"1724248968388000000","endTimeUnixNano":"1724248968402642972","attributes":[{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.host","value":{"stringValue":"frontend-proxy:8080"}},{"key":"net.host.name","value":{"stringValue":"frontend-proxy"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout"}},{"key":"http.user_agent","value":{"stringValue":"python-requests/2.31.0"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"380"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"35388"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}},{"traceId":"b62a26464b21e90d349402c95b127fc1","spanId":"19d283cb06a96161","parentSpanId":"6f9fb5418fe3b5f9","name":"POST","kind":2,"startTimeUnixNano":"1724248970801000000","endTimeUnixNano":"1724248970821980333","attributes":[{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.host","value":{"stringValue":"frontend-proxy:8080"}},{"key":"net.host.name","value":{"stringValue":"frontend-proxy"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout"}},{"key":"http.user_agent","value":{"stringValue":"python-requests/2.31.0"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"386"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"35388"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.52.1"},"spans":[{"traceId":"1885aa223bcbeac1d205534f0bcf5f57","spanId":"1317bbcb63814afe","parentSpanId":"f969e62c0fa4f715","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248968389000000","endTimeUnixNano":"1724248968401738882","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}},{"traceId":"b62a26464b21e90d349402c95b127fc1","spanId":"213d66faa75808ac","parentSpanId":"8c6d1f4fd0487288","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248970803000000","endTimeUnixNano":"1724248970821758133","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"telemetry.sdk.language","value":{"stringValue":"python"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.23.0"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"service.name","value":{"stringValue":"loadgenerator"}}]},"scopeSpans":[{"scope":{"name":"opentelemetry.instrumentation.requests","version":"0.44b0"},"spans":[{"traceId":"1885aa223bcbeac1d205534f0bcf5f57","spanId":"25c3b9d169bf402c","parentSpanId":"","name":"POST","kind":3,"startTimeUnixNano":"1724248968387500552","endTimeUnixNano":"1724248968404372433","attributes":[{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.status_code","value":{"intValue":"500"}}],"status":{"code":2}},{"traceId":"b62a26464b21e90d349402c95b127fc1","spanId":"9b483301015df7d7","parentSpanId":"","name":"POST","kind":3,"startTimeUnixNano":"1724248970800731637","endTimeUnixNano":"1724248970828464523","attributes":[{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.status_code","value":{"intValue":"500"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"container.id","value":{"stringValue":"5393e17ea7208c80c0e4f3eda98e7fb8f2db5c2f40acda753916b651bc2edf44"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"5393e17ea720"}},{"key":"os.description","value":{"stringValue":"Alpine Linux 3.20.2 (Linux 5393e17ea720 5.15.153.1-microsoft-standard-WSL2 #1 SMP Fri Mar 29 23:14:13 UTC 2024 x86_64)"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"./checkoutservice"}]}}},{"key":"process.executable.name","value":{"stringValue":"checkoutservice"}},{"key":"process.executable.path","value":{"stringValue":"/usr/src/app/checkoutservice"}},{"key":"process.owner","value":{"stringValue":"root"}},{"key":"process.pid","value":{"intValue":"1"}},{"key":"process.runtime.description","value":{"stringValue":"go version go1.22.6 linux/amd64"}},{"key":"process.runtime.name","value":{"stringValue":"go"}},{"key":"process.runtime.version","value":{"stringValue":"go1.22.6"}},{"key":"service.name","value":{"stringValue":"checkoutservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"go"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.27.0"}}]},"scopeSpans":[{"scope":{"name":"go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc","version":"0.52.0"},"spans":[{"traceId":"1885aa223bcbeac1d205534f0bcf5f57","spanId":"f9bc3bf2c6c75e64","parentSpanId":"c61a5ef30258241d","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248968399892499","endTimeUnixNano":"1724248968401712739","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"1885aa223bcbeac1d205534f0bcf5f57","spanId":"c61a5ef30258241d","parentSpanId":"1317bbcb63814afe","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248968390689552","endTimeUnixNano":"1724248968401793013","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"0c25b3fe-5fc6-11ef-b8c2-0242ac120018"}},{"key":"app.user.currency","value":{"stringValue":"USD"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248968399868918","name":"prepared"},{"timeUnixNano":"1724248968399882059","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248968401749161","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"b62a26464b21e90d349402c95b127fc1","spanId":"2f56e2f2bb2f22c5","parentSpanId":"a8604c862975f657","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248970816526963","endTimeUnixNano":"1724248970819210614","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"b62a26464b21e90d349402c95b127fc1","spanId":"a8604c862975f657","parentSpanId":"213d66faa75808ac","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248970804272940","endTimeUnixNano":"1724248970819293167","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"0d92f332-5fc6-11ef-b8c2-0242ac120018"}},{"key":"app.user.currency","value":{"stringValue":"USD"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248970816492292","name":"prepared"},{"timeUnixNano":"1724248970816508583","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248970819264996","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}}]}],"schemaUrl":"https://opentelemetry.io/schemas/1.25.0"}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"paymentservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.24.1"}},{"key":"container.id","value":{"stringValue":"d606a76c1a13669be761135d64f0a1acc9a58322bbd3d212397b1265e3864db5"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"d606a76c1a13"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./opentelemetry.js"},{"stringValue":"/usr/src/app/index.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"21.7.3"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/usr/src/app/index.js"}},{"key":"process.owner","value":{"stringValue":"node"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.51.1"},"spans":[{"traceId":"1885aa223bcbeac1d205534f0bcf5f57","spanId":"2c484d489464ebe4","parentSpanId":"f9bc3bf2c6c75e64","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248968400000000","endTimeUnixNano":"1724248968400580775","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":132.699999997}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248968400571284","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}},{"traceId":"b62a26464b21e90d349402c95b127fc1","spanId":"04ce205c19797143","parentSpanId":"2f56e2f2bb2f22c5","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248970817000000","endTimeUnixNano":"1724248970817876937","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":2097.99999989}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248970817857986","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"frontend"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.25.1"}},{"key":"container.id","value":{"stringValue":"f27bf1b161b28b909d52572607c84c667f42895393b06247598ceea61021aef4"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"f27bf1b161b2"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./Instrumentation.js"},{"stringValue":"/app/server.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"20.16.0"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/app/server.js"}},{"key":"process.owner","value":{"stringValue":"nextjs"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.52.1"},"spans":[{"traceId":"e050fdce4bfc14a16c7a33859a414bb5","spanId":"c6d97a096e00e884","parentSpanId":"28e7def4ea9ede72","name":"grpc.oteldemo.CheckoutService/PlaceOrder","kind":3,"startTimeUnixNano":"1724248980378000000","endTimeUnixNano":"1724248980396540808","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"net.peer.name","value":{"stringValue":"checkoutservice"}},{"key":"net.peer.port","value":{"intValue":"5050"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}],"status":{"code":2}}]},{"scope":{"name":"next.js","version":"0.0.1"},"spans":[{"traceId":"e050fdce4bfc14a16c7a33859a414bb5","spanId":"28e7def4ea9ede72","parentSpanId":"a9bb3eb8fb365d2d","name":"executing api route (pages) /api/checkout","kind":1,"startTimeUnixNano":"1724248980378000000","endTimeUnixNano":"1724248980397421824","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/checkout"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1724248980396928954","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled\n    at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n    at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n    at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n    at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n    at AsyncLocalStorage.run (node:async_hooks:346:14)\n    at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n    at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at ServiceClientImpl.clientMethodTrace [as placeOrder] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n    at /app/.next/server/pages/api/checkout.js:1:1041\n    at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.52.1"},"spans":[{"traceId":"e050fdce4bfc14a16c7a33859a414bb5","spanId":"31eab5d6c46dc02c","parentSpanId":"a1dfd43fafbd8dbf","name":"POST","kind":2,"startTimeUnixNano":"1724248980378000000","endTimeUnixNano":"1724248980398230166","attributes":[{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.host","value":{"stringValue":"frontend-proxy:8080"}},{"key":"net.host.name","value":{"stringValue":"frontend-proxy"}},{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/checkout"}},{"key":"http.user_agent","value":{"stringValue":"python-requests/2.31.0"}},{"key":"http.request_content_length_uncompressed","value":{"intValue":"386"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.host.ip","value":{"stringValue":"172.18.0.23"}},{"key":"net.host.port","value":{"intValue":"8080"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"42664"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"telemetry.sdk.language","value":{"stringValue":"python"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.23.0"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"service.name","value":{"stringValue":"loadgenerator"}}]},"scopeSpans":[{"scope":{"name":"opentelemetry.instrumentation.requests","version":"0.44b0"},"spans":[{"traceId":"e050fdce4bfc14a16c7a33859a414bb5","spanId":"c7f7773925f432da","parentSpanId":"","name":"POST","kind":3,"startTimeUnixNano":"1724248980376914600","endTimeUnixNano":"1724248980402416583","attributes":[{"key":"http.method","value":{"stringValue":"POST"}},{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/checkout"}},{"key":"http.status_code","value":{"intValue":"500"}}],"status":{"code":2}}]}]}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"container.id","value":{"stringValue":"5393e17ea7208c80c0e4f3eda98e7fb8f2db5c2f40acda753916b651bc2edf44"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"5393e17ea720"}},{"key":"os.description","value":{"stringValue":"Alpine Linux 3.20.2 (Linux 5393e17ea720 5.15.153.1-microsoft-standard-WSL2 #1 SMP Fri Mar 29 23:14:13 UTC 2024 x86_64)"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"./checkoutservice"}]}}},{"key":"process.executable.name","value":{"stringValue":"checkoutservice"}},{"key":"process.executable.path","value":{"stringValue":"/usr/src/app/checkoutservice"}},{"key":"process.owner","value":{"stringValue":"root"}},{"key":"process.pid","value":{"intValue":"1"}},{"key":"process.runtime.description","value":{"stringValue":"go version go1.22.6 linux/amd64"}},{"key":"process.runtime.name","value":{"stringValue":"go"}},{"key":"process.runtime.version","value":{"stringValue":"go1.22.6"}},{"key":"service.name","value":{"stringValue":"checkoutservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"go"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.27.0"}}]},"scopeSpans":[{"scope":{"name":"go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc","version":"0.52.0"},"spans":[{"traceId":"e050fdce4bfc14a16c7a33859a414bb5","spanId":"9ba02da19e307e0b","parentSpanId":"c86c4e3864252802","flags":256,"name":"oteldemo.PaymentService/Charge","kind":3,"startTimeUnixNano":"1724248980394714905","endTimeUnixNano":"1724248980396488908","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"net.sock.peer.addr","value":{"stringValue":"172.18.0.11"}},{"key":"net.sock.peer.port","value":{"intValue":"50051"}},{"key":"rpc.grpc.status_code","value":{"intValue":"2"}}],"status":{"message":"PaymentService Fail Feature Flag Enabled","code":2}},{"traceId":"e050fdce4bfc14a16c7a33859a414bb5","spanId":"c86c4e3864252802","parentSpanId":"c6d97a096e00e884","flags":768,"name":"oteldemo.CheckoutService/PlaceOrder","kind":2,"startTimeUnixNano":"1724248980379662129","endTimeUnixNano":"1724248980396550721","attributes":[{"key":"rpc.service","value":{"stringValue":"oteldemo.CheckoutService"}},{"key":"rpc.method","value":{"stringValue":"PlaceOrder"}},{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"app.user.id","value":{"stringValue":"1347b3a8-5fc6-11ef-b8c2-0242ac120018"}},{"key":"app.user.currency","value":{"stringValue":"USD"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}}],"events":[{"timeUnixNano":"1724248980394680214","name":"prepared"},{"timeUnixNano":"1724248980394699655","name":"feature_flag","attributes":[{"key":"feature_flag.key","value":{"stringValue":"paymentServiceUnreachable"}},{"key":"feature_flag.provider_name","value":{"stringValue":"flagd"}},{"key":"feature_flag.variant","value":{"stringValue":"off"}}]},{"timeUnixNano":"1724248980396535550","name":"error","attributes":[{"key":"exception.message","value":{"stringValue":"could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled"}}]}],"status":{"message":"failed to charge card: could not charge the card: rpc error: code = Unknown desc = PaymentService Fail Feature Flag Enabled","code":2}}]}],"schemaUrl":"https://opentelemetry.io/schemas/1.25.0"}]}
{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"paymentservice"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.24.1"}},{"key":"container.id","value":{"stringValue":"d606a76c1a13669be761135d64f0a1acc9a58322bbd3d212397b1265e3864db5"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"host.name","value":{"stringValue":"d606a76c1a13"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"5.15.153.1-microsoft-standard-WSL2"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./opentelemetry.js"},{"stringValue":"/usr/src/app/index.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"21.7.3"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/usr/src/app/index.js"}},{"key":"process.owner","value":{"stringValue":"node"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.51.1"},"spans":[{"traceId":"e050fdce4bfc14a16c7a33859a414bb5","spanId":"8f21592cd8f9a9db","parentSpanId":"9ba02da19e307e0b","name":"grpc.oteldemo.PaymentService/Charge","kind":2,"startTimeUnixNano":"1724248980395000000","endTimeUnixNano":"1724248980395486559","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"Charge"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.PaymentService"}},{"key":"app.payment.amount","value":{"doubleValue":13031.19999999}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}}],"events":[{"timeUnixNano":"1724248980395477599","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"Error"}},{"key":"exception.message","value":{"stringValue":"PaymentService Fail Feature Flag Enabled"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: PaymentService Fail Feature Flag Enabled\n    at module.exports.charge (/usr/src/app/charge.js:21:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Object.chargeServiceHandler [as charge] (/usr/src/app/index.js:21:22)"}}]}],"status":{"code":2}}]}]}]}
