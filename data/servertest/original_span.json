{"resourceSpans":[{"resource":{"attributes":[{"key":"service.name","value":{"stringValue":"frontend"}},{"key":"telemetry.sdk.language","value":{"stringValue":"nodejs"}},{"key":"telemetry.sdk.name","value":{"stringValue":"opentelemetry"}},{"key":"telemetry.sdk.version","value":{"stringValue":"1.25.1"}},{"key":"container.id","value":{"stringValue":"18bffe0ff4d01c5b6f6583ccfbf548e1f2fc76cc1120eadd5da94515d4a79f0f"}},{"key":"docker.cli.cobra.command_path","value":{"stringValue":"docker compose"}},{"key":"service.code","value":{"stringValue":"FR1008"}},{"key":"host.name","value":{"stringValue":"18bffe0ff4d0"}},{"key":"host.arch","value":{"stringValue":"amd64"}},{"key":"os.type","value":{"stringValue":"linux"}},{"key":"os.version","value":{"stringValue":"4.18.0-553.16.1.el8_10.x86_64"}},{"key":"process.pid","value":{"intValue":"17"}},{"key":"process.executable.name","value":{"stringValue":"node"}},{"key":"process.executable.path","value":{"stringValue":"/usr/local/bin/node"}},{"key":"process.command_args","value":{"arrayValue":{"values":[{"stringValue":"/usr/local/bin/node"},{"stringValue":"--require"},{"stringValue":"./Instrumentation.js"},{"stringValue":"/app/server.js"}]}}},{"key":"process.runtime.version","value":{"stringValue":"20.16.0"}},{"key":"process.runtime.name","value":{"stringValue":"nodejs"}},{"key":"process.runtime.description","value":{"stringValue":"Node.js"}},{"key":"process.command","value":{"stringValue":"/app/server.js"}},{"key":"process.owner","value":{"stringValue":"nextjs"}}]},"scopeSpans":[{"scope":{"name":"@opentelemetry/instrumentation-grpc","version":"0.52.1"},"spans":[{"traceId":"origin_3c7829d88f923d64d55339655779a249","spanId":"d74fea2f0ded995f","parentSpanId":"b5bc2aaa755bea2e","name":"grpc.oteldemo.CartService/GetCart","kind":3,"startTimeUnixNano":"1726756831331000000","endTimeUnixNano":"1726756841562919867","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"GetCart"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CartService"}},{"key":"net.peer.name","value":{"stringValue":"cartservice"}},{"key":"net.peer.port","value":{"intValue":"7070"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: Received RST_STREAM with code 2 triggered by internal client error: Session closed with error code 2"}}],"status":{"code":2}},{"traceId":"origin_d08a853b422dd7bfef8a2849cf9d732d","spanId":"47e5177b5cfda33b","parentSpanId":"7c949a6786aa2780","name":"grpc.oteldemo.CartService/GetCart","kind":3,"startTimeUnixNano":"1726756831433000000","endTimeUnixNano":"1726756841579384242","attributes":[{"key":"rpc.system","value":{"stringValue":"grpc"}},{"key":"rpc.method","value":{"stringValue":"GetCart"}},{"key":"rpc.service","value":{"stringValue":"oteldemo.CartService"}},{"key":"net.peer.name","value":{"stringValue":"cartservice"}},{"key":"net.peer.port","value":{"intValue":"7070"}},{"key":"rpc.grpc.status_code","value":{"intValue":"13"}},{"key":"grpc.error_name","value":{"stringValue":"Error"}},{"key":"grpc.error_message","value":{"stringValue":"13 INTERNAL: Received RST_STREAM with code 2 triggered by internal client error: Session closed with error code 2"}}],"status":{"code":2}}]},{"scope":{"name":"next.js","version":"0.0.1"},"spans":[{"traceId":"origin_3c7829d88f923d64d55339655779a249","spanId":"b5bc2aaa755bea2e","parentSpanId":"3730e664d79001cf","name":"executing api route (pages) /api/cart","kind":1,"startTimeUnixNano":"1726756830789000000","endTimeUnixNano":"1726756842026993277","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/cart"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1726756841780645476","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: Received RST_STREAM with code 2 triggered by internal client error: Session closed with error code 2"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: Received RST_STREAM with code 2 triggered by internal client error: Session closed with error code 2\n at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n at AsyncLocalStorage.run (node:async_hooks:346:14)\n at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n at ServiceClientImpl.clientMethodTrace [as getCart] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n at /app/.next/server/pages/api/cart.js:1:1025\n at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}},{"traceId":"origin_d08a853b422dd7bfef8a2849cf9d732d","spanId":"7c949a6786aa2780","parentSpanId":"752dc66e3a048bef","name":"executing api route (pages) /api/cart","kind":1,"startTimeUnixNano":"1726756831429000000","endTimeUnixNano":"1726756842027392257","attributes":[{"key":"next.span_name","value":{"stringValue":"executing api route (pages) /api/cart"}},{"key":"next.span_type","value":{"stringValue":"Node.runHandler"}},{"key":"http.status_code","value":{"intValue":"500"}}],"events":[{"timeUnixNano":"1726756841799749748","name":"exception","attributes":[{"key":"exception.type","value":{"stringValue":"13"}},{"key":"exception.message","value":{"stringValue":"13 INTERNAL: Received RST_STREAM with code 2 triggered by internal client error: Session closed with error code 2"}},{"key":"exception.stacktrace","value":{"stringValue":"Error: 13 INTERNAL: Received RST_STREAM with code 2 triggered by internal client error: Session closed with error code 2\n at callErrorFromStatus (/app/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client.js:193:76)\n at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:360:141)\n at Object.onReceiveStatus (/app/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n at /app/node_modules/@grpc/grpc-js/build/src/resolving-call.js:129:78\n at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n at ServiceClientImpl.makeUnaryRequest (/app/node_modules/@grpc/grpc-js/build/src/client.js:161:32)\n at ServiceClientImpl.\u003canonymous\u003e (/app/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/clientUtils.js:131:31\n at /app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:209\n at AsyncLocalStorage.run (node:async_hooks:346:14)\n at AsyncLocalStorageContextManager.with (/app/node_modules/@opentelemetry/context-async-hooks/build/src/AsyncLocalStorageContextManager.js:33:40)\n at ContextAPI.with (/app/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n at ServiceClientImpl.clientMethodTrace [as getCart] (/app/node_modules/@opentelemetry/instrumentation-grpc/build/src/instrumentation.js:211:42)\n at /app/.next/server/pages/api/cart.js:1:1025\n at new ZoneAwarePromise (/app/node_modules/zone.js/bundles/zone.umd.js:1340:33)"}}]}],"status":{"code":2}}]},{"scope":{"name":"@opentelemetry/instrumentation-http","version":"0.52.1"},"spans":[{"traceId":"origin_d08a853b422dd7bfef8a2849cf9d732d","spanId":"fa9dabc4b895aae0","parentSpanId":"592dd77bcf4349fd","name":"GET","kind":2,"startTimeUnixNano":"1726756831422000000","endTimeUnixNano":"1726756842713680326","attributes":[{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/cart?sessionId=7b943c7d-ad11-472f-bcc9-3bb522cf5a4a\u0026currencyCode=USD"}},{"key":"http.host","value":{"stringValue":"frontend-proxy:8080"}},{"key":"net.host.name","value":{"stringValue":"frontend-proxy"}},{"key":"http.method","value":{"stringValue":"GET"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/cart?sessionId=7b943c7d-ad11-472f-bcc9-3bb522cf5a4a\u0026currencyCode=USD"}},{"key":"http.user_agent","value":{"stringValue":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/120.0.6099.28 Safari/537.36"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"51996"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}},{"traceId":"origin_3c7829d88f923d64d55339655779a249","spanId":"021bd5a507562079","parentSpanId":"30cd8f16e6faa4a7","name":"GET","kind":2,"startTimeUnixNano":"1726756830756000000","endTimeUnixNano":"1726756842753898047","attributes":[{"key":"http.url","value":{"stringValue":"http://frontend-proxy:8080/api/cart?sessionId=7b943c7d-ad11-472f-bcc9-3bb522cf5a4a\u0026currencyCode="}},{"key":"http.host","value":{"stringValue":"frontend-proxy:8080"}},{"key":"net.host.name","value":{"stringValue":"frontend-proxy"}},{"key":"http.method","value":{"stringValue":"GET"}},{"key":"http.scheme","value":{"stringValue":"http"}},{"key":"http.target","value":{"stringValue":"/api/cart?sessionId=7b943c7d-ad11-472f-bcc9-3bb522cf5a4a\u0026currencyCode="}},{"key":"http.user_agent","value":{"stringValue":"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/120.0.6099.28 Safari/537.36"}},{"key":"http.flavor","value":{"stringValue":"1.1"}},{"key":"net.transport","value":{"stringValue":"ip_tcp"}},{"key":"net.peer.ip","value":{"stringValue":"172.18.0.25"}},{"key":"net.peer.port","value":{"intValue":"52040"}},{"key":"http.status_code","value":{"intValue":"500"}},{"key":"http.status_text","value":{"stringValue":"INTERNAL SERVER ERROR"}}],"status":{"code":2}}]}]}]}